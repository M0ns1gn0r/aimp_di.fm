<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:tb="http://www.hardcodet.net/taskbar"
    xmlns:VM="clr-namespace:DI.FM.WPF.ViewModels;assembly=DI.FM.WPF">

    <UserControl x:Key="MyTrayPopup">
        <UserControl.Resources>
            <DataTemplate DataType="{x:Type VM:LoginViewModel}">
                <Button Content="{Binding Title}"></Button>
            </DataTemplate>
            <DataTemplate DataType="{x:Type VM:NoTrackPlaysViewModel}">
                <Button Content="{Binding Title}"></Button>
            </DataTemplate>
        </UserControl.Resources>

        <Border
              Background="White"
              BorderBrush="Black"
              BorderThickness="2"
              CornerRadius="4"
              Width="160"
              Height="40">
            <ContentControl>
                <VM:NoTrackPlaysViewModel />
            </ContentControl>
        </Border>
        
    </UserControl> 
    
    <tb:TaskbarIcon
        x:Key="TheNotifyIcon"
        IconSource="{Binding IconSource}"
        ToolTipText="This is the DI.FM notification."
        TrayPopup="{StaticResource MyTrayPopup}">
        
        <tb:TaskbarIcon.DataContext>
            <VM:TaskBarIconViewModel />
        </tb:TaskbarIcon.DataContext>        
        
    </tb:TaskbarIcon>

</ResourceDictionary>